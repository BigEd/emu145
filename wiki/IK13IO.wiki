#summary Описание входов и выходов ИК13, полностью отсутсвующее в книге Трохименко
#labels 145IK13

= Входы =

У микроконтроллера ИК13 есть есть следующие входы:

  * фазовые входы Ф1,Ф2,Ф3,Ф4

  * вход синхронизации СИ

  * вход начальной установки У

  * вход РгР

  * вход РгМ

  * пользовательские входы К1,К2,H


== Вход СИ ==
По фронту входа СИ происходит установка флага прерывания и выборка следующей макрокоманды будет произведена по адресу 0x01. При выборки макрокомманды с адресом 0x01 флаг прерывания очищается. Причем в программе возможен безусловный переход на адрес 0x01 и в этом случае флаг очистится безусловно. В серийных микрокалькуляторах вход используется ведомыми микроконтроллерами для вызова процедуры проверки байта канала связи.

== Вход У ==
По фронту входа У происходит начальная установка микроконтроллера. Сбрасываются все счетчики и происходит выборка макрокомманды по адресу 0x00. В серийных микрокалькуляторах вход не используется.

== Вход РгР ==
Поданная на вход информация будет вдвинута в регистр Р на следующем микротакте. В микрокалькуляторах соеденен с выходом РгР образуя замкнутое кольцо. Из-за особенностей архитектуры расширить кольцо РгР можно, но при этом необходимо позаботится и о программной части -- регист Р используется для хранения адреса следующей макрокоманды и программа инициализации находящаяся по адресу 0 должна позаботится о форматировании расширенного регистра Р и занесении адресов команд обработки расширенного регистра Р в соответсвтующие ячейки.

== Вход РгМ ==
Поданная на вход информация будет вдвинута в регистр М на следующем микротакте. В микрокалькуляторах вход РгМ одноко контроллера соеденен с выходом РгМ предидущего контроллера или ОЗУ, образуя кольцо оперативной памяти.

== Входы К1 и К2 ==
Эти входы главным образом предназначены для опроса клавиатуры. Их поведение зависит клавным образом от поля АСП[1] макрокомманды. Если поле 0<= АСП[1] <=3 и происходит опрос регистра Т, то информация из входов К1 и К2 будет защелкнута на спаде сигнала Д  до выборки следующей макрокомманды. При этом информация будет также вдвинута в регистр S1 при этом в конце макротакта регистр S  будет установлен так S=(K2<<3)|K1; Регистр Т будет установлен так -- T=K1|K2|H;
Если поле АСП[1] более 3 и происходит опрос регистра Т -- то регистр Т будет установлен Т=K1|K2|H; а защелкивания входов и изменения регистра S1 происходить не будет.

== Вход H == 
В этот вход не защелкивается. При опросе регистра Т или регистра H -- регистр будет установлен как Т=K1|K2|H; при этом необходимо учитывать вышесказанное о входах К1 и К2. При этом регистр H (4бита) будет установлен так - РегН=(ВходH)?1:0;  рекомендуемая микрокомманда для опроса регистра H -- S1=S1|H; Σ=S1+0xF; L=П -- при этом L будет приравнено значению входа H

= Выходы =


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages